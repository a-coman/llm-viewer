---
import Layout from "./Layout.astro";
import ModelSidebar from "../components/ModelSidebar.astro";
import ContentHeader from "../components/ContentHeader.astro";
import { MODELS } from "../lib/constants";
import "../styles/shared.css";

interface Props {
  title: string;
  currentModel?: string;
  currentGen?: string;
  currentPage?: "dashboard" | "model" | "generation";
  showTabs?: boolean;
  activeTab?: "simple" | "cot";
  experimentId?: string;
  experimentIds?: string[];
}

const {
  title,
  currentModel,
  currentGen,
  currentPage = "dashboard",
  showTabs = true,
  activeTab = "simple",
  experimentId,
  experimentIds,
} = Astro.props;
---

<Layout>
  <div class="page-layout">
    <ModelSidebar
      models={MODELS}
      currentModel={currentModel}
      currentGen={currentGen}
      currentPage={currentPage}
      showTabs={showTabs}
      activeTab={activeTab}
      experimentId={experimentId}
      experimentIds={experimentIds}
    />
    <main class="main-content">
      <ContentHeader title={title}>
        <slot name="header-right" />
      </ContentHeader>
      <slot />
    </main>
  </div>
</Layout>
